<ngx-spinner bdOpacity=0.5 bdColor="#333" color="#fff"
	type="ball-spin-clockwise-fade" loadingText="Loading..."></ngx-spinner>
	<div class="container-fluid">
	<section class="row">
		<!--card list-->
		<div class="col-12">
			<div class="row cards-in">
				<div class="col-12">
					<div class="shadow-card">
						<div class="col-12 card-head-med">
							<div class="row">
								<div class="col-md-11 col-8">
									<h6>Personnel Information</h6>
								</div>
								<div class="col-md-1 col-4 ">
									<i class="fa fa-info-circle" aria-hidden="true"></i>
								</div>
							</div>
						</div>
						<div class="col-12 card-list-med ovr-flw"
							*ngIf="noIrbPersons==false">
							<div class="row pdf" [ngClass]="{'row-line':i!=0}"
								*ngFor="let irbPersons of irbPersonsDetails;let i= index"
								data-toggle="modal"
								data-target="#personModal"
								(click)="showpersonData(irbPersons.PERSON_ID)">
								<div class="col-md-2 col-sm-6 co-12">
									<img
										[ngClass]="{'pi-profile': irbPersons.PROTOCOL_PERSON_ROLE_ID =='PI',
									'coi-profile': irbPersons.PROTOCOL_PERSON_ROLE_ID !=='PI'}"
										class="img-fluid pd20">
								</div>
								<div class="col-md-4 col-sm-6 co-12 card-desc">
									<h6>{{irbPersons.PERSON_NAME}}</h6>
									<p>
										Person Role : <span>{{irbPersons.PROTOCOL_PERSON_ROLE}}</span>
									</p>
									<p>
										Email Id : <span>{{irbPersons.EMAIL_ADDRESS}}</span> | Office
										: <span>{{irbPersons.OFFICE_PHONE}}</span>
									</p>
								</div>
								<div class="col-md-5 col-sm-6 co-12 card-desc">
									<h6>&nbsp;</h6>
									<p>
										Primary Title : <span>{{irbPersons.PRIMARY_TITLE}}</span>
									</p>
									<p>
										Affiliation : <span>{{irbPersons.AFFILIATION_TYPE}}</span> |
										Unit : <span>{{irbPersons.UNIT_NAME}}</span>
									</p>
								</div>
								<div class="col-md-1 col-sm-6 co-12 list-des button-responsive">
										
									<a>
										<button type="button" class="btn btn-outline-secondary button-view"
										data-toggle="modal"
										data-target="#personModal"
										(click)="showpersonData(irbPersons.PERSON_ID)">
											<i class="fa fa-eye"></i>View
										</button>
									</a>
							</div>
								<!-- <div class="col-md-2 col-sm-6 co-12 cmp-b">
									<p *ngIf="irbPersons.IS_COMPLETED=='Y'">Completed</p>
									<p *ngIf="irbPersons.IS_COMPLETED=='N'">Pending</p>
								</div> -->
							</div>
						</div>
						<div class="col-12 card-list-no-data ovrflow-no-data"
							*ngIf="noIrbPersons">
							<div class="col-12">No person details found</div>
						</div>
					</div>

				</div>
				<div class="col-6">
					<div class="shadow-card">
						<div class="col-12 card-head-med">
							<div class="row">
								<div class="col-11">
									<h6>Funding Sources</h6>
								</div>
								<div class="col-1">
									<i class="fa fa-info-circle" aria-hidden="true"></i>
								</div>
							</div>
						</div>
						<div class="col-12 card-list-med funding-card ovr-flw"
							*ngIf="noIrbfunds==false">
							<div class="row" [ngClass]="{'row-line':i!=0}"
								*ngFor="let fund of irbFundingDetails;let i= index">
								<div class="col-3">
									<div class="sponser_ico">
										<i class="fa fa-briefcase" aria-hidden="true"></i>
									</div>
								</div>
								<div class="col-9 card-desc">
									<div class="row padding-row">
										<div class="col-12">
											<h6>
												<b>{{fund.FUNDING_SOURCE_TYPE}}</b><span class="fund-head">{{fund.FUNDING_SOURCE}}</span>
											</h6>
										</div>
										<div class="col-5" *ngIf="fund.FUNDING_SOURCE_TYPE == 'Award'">
											<h6>
												<b>Account# : </b><span>{{fund.ACCOUNT_NUMBER}}</span>
											</h6>
										</div>
										<div
											[ngClass]="fund.FUNDING_SOURCE_TYPE == 'Award'? 'col-7':'col-6'">
											<h6>
												<b>Name : </b><span>{{fund.FUNDING_SOURCE_NAME}}</span>
											</h6>
										</div>
										<div class="col-6">
											<p>
												<b>Title : </b><span>{{fund.FUNDING_SOURCE_TYPE}}</span>
											</p>
										</div>

									</div>
								</div>
							</div>
						</div>
						<div class="col-12 card-list-no-data" *ngIf="noIrbfunds">
							<div class="col-12">No funding details found</div>
						</div>
					</div>
				</div>
				<div class="col-6">
					<div class="shadow-card">
						<div class="col-12 card-head-med">
							<div class="row">
								<div class="col-11">
									<h6>Subjects</h6>
								</div>
								<div class="col-1">
									<i class="fa fa-info-circle" aria-hidden="true"></i>
								</div>
							</div>
						</div>
						<div class="col-12 card-list-med funding-card ovr-flw"
							*ngIf="noIrbSubjects==false">
							<div class="row" [ngClass]="{'row-line':i!=0}"
								*ngFor="let sub of irbSubjects;let i= index">
								<div class="col-3">
									<div class="hospital_plus_ico">
										<i class="fa fa-plus-square" aria-hidden="true"></i>
									</div>
								</div>
								<div class="col-7 card-desc">
									<h6 class="sub-head">
										Type : <span>{{sub.VULNERABLE_SUBJECT}}</span>
									</h6>
									<h6 class="sub-head">
										Count : <span>{{sub.SUBJECT_COUNT}}</span>
									</h6>
								</div>
							</div>
						</div>
						<div class="col-12 card-list-no-data" *ngIf="noIrbSubjects">
							<div class="col-12">No subject details found</div>
						</div>
					</div>
				</div>
				<div class="col-12">
					<div class="shadow-card">
						<div class="col-12 card-head-med">
							<div class="row">
								<div class="col-11">
									<h6>Engaged Institutions</h6>
								</div>
								<div class="col-1">
									<i class="fa fa-info-circle" aria-hidden="true"></i>
								</div>
							</div>
						</div>
						<div class="col-12 card-list-med ovr-flw"
							*ngIf="noIrbCollaborators==false">
							<div class="row" [ngClass]="{'row-line':i!=0}"
								*ngFor="let irbCollab of irbCollaborators;let i= index">
								<div class="col-2">
									<div class="profile_avatar_ico">
										<i class="fa fa-user-o" aria-hidden="true"></i>
									</div>
								</div>
								<div class="col-10 card-desc">
									<div class="row">
										<div class="col-6">
											<h6>{{irbCollab.ORGANIZATION_NAME}}</h6>
											<p>
												<span>{{irbCollab.ROLODEX_NAME}}</span>
											</p>
											<p>
												Email Id : <span>{{irbCollab.ROLODEX_EMAIL_ADDRESS}}</span>
												|Phone Number : <span>{{irbCollab.ROLODEX_PHONE_NUMBER}}</span>
										</div>
										<div class="col-6 row-padng">
											<p>&nbsp;</p>
											<p>
												Expiration date : <span>{{(irbCollab.EXPIRATION_DATE === ' ' || irbCollab.EXPIRATION_DATE === null ) ? ' ':(irbCollab.EXPIRATION_DATE | date: 'MM/dd/yyyy')}}</span>
											</p>
											<p>
												Approval Date : <span>{{(irbCollab.APPROVAL_DATE === ' ' || irbCollab.APPROVAL_DATE === null ) ? ' ':(irbCollab.APPROVAL_DATE | date: 'MM/dd/yyyy')}}</span>
											</p>
										</div>
									</div>
								</div>
							</div>
						</div>
						<div class="col-12 card-list-no-data" *ngIf="noIrbCollaborators">
							<div class="col-12">No Engaged Institutions</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</section>
</div>

<!-- modal -->
<div class="modal fade bd-example-modal-lg" id="personModal"
	tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
	aria-hidden="true">
	<div class="modal-dialog modal-lg" role="document">
		<div class="modal-content">
			<div class="modal-header popup-header">
				<h5 class="modal-title" id="exampleModalLongTitle">Person
					Details</h5>
				<button type="button" class="close modal-close" data-dismiss="modal"
					aria-label="Close">
					<span aria-hidden="true">&times;</span>
				</button>
			</div>
			<div class="modal-body modal-popup">
				<div class="modal-header-label">
					<h4 class="popup-sub-head">Basic</h4>
				</div>
				<!-- section1 -->
				<div class="modal-padding">
					<div class="row">
						<div class="col-md-4 col lg- 4 col-sm-4 col-6">
							<label class="modal-label" for=""> Name : </label>
							{{irbPersonDetailedList?.FULL_NAME}}
						</div>
						<div class="col-md-4 col lg- 4 col-sm-4 col-6">
							<label class="modal-label" for="">Email : </label>
							{{irbPersonDetailedList?.EMAIL_ADDRESS}}
						</div>
						<div class="col-md-4 col lg- 4 col-sm-4 col-6">
							<label class="modal-label" for=""> Primary Title : </label>
							{{irbPersonDetailedList?.PRIMARY_TITLE}}
						</div>
					</div>
					<div class="row">
						<div class="col-md-4 col lg- 4 col-sm-4 col-6">
							<label class="modal-label" for=""> Address : </label>{{irbPersonDetailedList?.ADDRESS_LINE_1}}
						</div>
						<div class="col-md-4 col lg- 4 col-sm-4 col-6">
							<label class="modal-label" for=""> City : </label>
							{{irbPersonDetailedList?.CITY}}
						</div>
						<div class="col-md-4 col lg- 4 col-sm-4 col-6">
							<label class="modal-label" for=""> Country : </label>
							{{irbPersonDetailedList?.COUNTRY_CODE}}
						</div>
					</div>
					<div class="row">
						<div class="col-md-4 col lg- 4 col-sm-4 col-6">
							<label class="modal-label" for=""> Office Location : </label>
							{{irbPersonDetailedList?.OFFICE_LOCATION}}
						</div>
						<div class="col-md-4 col lg- 4 col-sm-4 col-6">
							<label class="modal-label" for=""> Office Phone Number : </label>
							{{irbPersonDetailedList?.OFFICE_PHONE }}
						</div>
						<div class="col-md-4 col lg- 4 col-sm-4 col-6">
							<label class="modal-label" for=""> Postal Code : </label>
							{{irbPersonDetailedList?.POSTAL_CODE}}
						</div>
					</div>
				</div>
				<!-- section2 -->
				<div>
					<h4 class="popup-sub-head">Training</h4>
				</div>
				<div class="modal-padding">
					<div class="popup-div">
						<table class="table table-striped">
							<thead class="popup-sub-header">
								<tr>
									<th class="table-align-head" scope="col">Description</th>
									<th scope="col">Score</th>
									<th scope="col">Followup Date</th>
									<th scope="col" class="submitted-header">Submitted Date</th>
								</tr>
							</thead>
							<tbody>
								<tr *ngFor="let info of irbPersonDetailedTraining">
									<td class="table-align" scope="row">{{info.TRAINING_DESCRIPTION}}</td>
									<td>{{info.SCORE}}</td>
									<td>{{(info.FOLLOWUP_DATE === ' ' || info.FOLLOWUP_DATE === null ) ? ' ':(info.FOLLOWUP_DATE | date: 'MM/dd/yyyy')}}</td>
									<td>{{(info.DATE_SUBMITTED === ' ' || info.DATE_SUBMITTED === null ) ? ' ':(info.DATE_SUBMITTED | date: 'MM/dd/yyyy')}}</td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
				<!-- section3 -->
				<!-- <div>
						<div class= "modal-header-label"><h4>Responsibilities</h4></div>
						<div class="row">
							<div class="col-md-4 col lg- 4 col-sm-4">
								<label for=""> Name</label> value
							</div>
							<div class="col-md-4 col lg- 4 col-sm-4">
									<label for="">Address  </label> value
							</div>
							<div class="col-md-4 col lg- 4 col-sm-4">
									<label for=""> Primary Title</label> value
							</div>
						</div>
						<div class="row">
								<div class="col-md-4 col lg- 4 col-sm-4">
									<label for=""> Office Address</label> value
								</div>
								<div class="col-md-4 col lg- 4 col-sm-4">
										<label for=""> City</label> value
								</div>
								<div class="col-md-4 col lg- 4 col-sm-4">
										<label for=""> Country</label> value
								</div>
								<div class="col-md-4 col lg- 4 col-sm-4">
										<label for=""> State</label> value
								</div>
							</div>
				  </div> -->
			</div>
			<div class="modal-footer"></div>
		</div>
	</div>
</div>
<!-- modal-end -->

<div class="container-fluid">
	<section class="row section-margin">
		<!--collapse-->
		<div class="col-12">
			<div class="row" class="card-spcl-padding">
				<div class="col-12 card-head-med">
					<div class="row">
						<div class="col-11">
							<h6>Special Review</h6>
						</div>
						<div class="col-1 text-right">
							<i class="fa fa-info-circle" aria-hidden="true"></i>
						</div>
					</div>
				</div>
			</div>
			<div id="accordion">
				<div class="card card-list-med ovr-flw" *ngIf="noIrbSpecialReviews">
					<div class="card-header" id="headingTwo">
						<span class="mb-0">
							No special reviews
						</span>
					</div>
				</div>
			</div>
		</div>
	</section>
</div>
